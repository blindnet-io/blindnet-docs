---
sidebar_position: 2
title: 2. Set Up a Privacy Computation Engine
description: Process privacy requests
tags: [tutorial]
---

At the core of the blindnet devkit is the [Privacy Computation Engine](/docs/computation).
It is a simple service you can interact with via a Rest API to create and track your users' [Privacy Requests](/docs/references/lexicon#privacy-request).

We'll set up the Privacy Computation Engine in three steps:

1. **Set up an application**: register and obtain a unique ID and key for your application
2. **[Configuration](/docs/computation/configuration)**: configure the service using its configuration API
3. **Development**: call the Privacy Computation Engine from your registered applications to handle Privacy Requests

## Application registration

[Contact us](https://blindnet.io/contact) to register an application and obtain an Application ID and key.

:::note
Registration will be automatic once we deploy the dashboard, expected soon.

You can also use a pre-configured application to try out the devkit. Careful, as anyone can make changes to it's configuration.
```
id: 78f5fc15-5645-4f4f-8e1d-0792b7d89acd
key: EgPThokIzi0oGkOGPOuC3zA63/b39ZAefcbxpegoHog=
```
:::

## Configuration

Your Privacy Computation Engine application needs to be configured in order to respond to privacy requests your users made.
In this step, we will explore a few configuration option.

### Token

In order to use the [configuration API](/docs/computation/configuration), your requests need to be authenticated with the devkit token.
For more information about the token types and uses, see [authentication section](/docs/authentication/tokens).

For the simplicity, we will use a [token generator web app](https://blindnet-io.github.io/demo-token-generator/) to create an application scope token.
Input your application id and key, choose `app` in the drop down field and hit the generate button to obtain a token.

:::note
Application scope tokens should be generated on your server, using the devkit libraries. You can find more information in the [authentication section](/docs/authentication/tokens).
:::

In the next steps, replace `your_app_token` placeholder with the generated token.

### Configure general information

To get the [general information](/docs/computation/configuration#general-information) about the application, make the following request:

```bash
curl --request GET 'https://stage.computing.blindnet.io/v0/configure/general-info' \
  --header 'Authorization: Bearer your_app_token'
```

Let's configure some information:

```bash
curl --request PUT 'https://stage.computing.blindnet.io/v0/configure/general-info' \
  --header 'Authorization: Bearer your_app_token' \
  --data-raw '{
      "organization": "blindnet",
      "dpo": "dpo@blindnet.io",
      "countries": ["France"],
      "dataConsumerCategories": [],
      "accessPolicies": [],
      "privacyPolicyLink": "https://www.blindnet.io/legal/privacy-policy"
  }'
```

### Configure a legal base

Legal bases are one of the key concepts of the blindnet devkit. We will configure a consent legal base for using a user's email address for advertising purposes. Later in the tutorial, a user will "give" this consent.

```bash
curl --request PUT 'https://stage.computing.blindnet.io/v0/configure/legal-bases' \
--header 'Authorization: Bearer your_app_token' \
--data-raw '{
    "lb_type": "CONSENT",
    "name": "Sales promotion",
    "description": "Informing users about the current sale.",
    "scope": [
        { "dc": "CONTACT.EMAIL", "pc": "USING", "pp": "ADVERTISING" }
    ]
}'
```

Find the consent legal base you just added and make note of it's `ID`.

```bash
curl --request GET 'https://stage.computing.blindnet.io/v0/configure/legal-bases' \
  --header 'Authorization: Bearer your_app_token'
```

That `ID` will be later used to store the consent for a user.

### Configure a retention policy

Retention policies define how long you can or must keep each data after a specific event occurs.
We will add a retention policy to forbid keeping the user's email address for longer than 1 year after a user has given a consent.

```bash
curl --request PUT 'https://stage.computing.blindnet.io/v0/configure/retention-policies' \
  --header 'Authorization: Bearer your_app_token' \
  --data-raw '[
    {
      "data_category": "CONTACT.EMAIL",
      "policy": "NO-LONGER-THAN",
      "duration": "P1Y",
      "after": "SERVICE-START"
    }
  ]'
```

Inspect the retention policies for data categories with

```bash
curl --location --request GET 'https://stage.computing.blindnet.io/v0/configure/data-categories' \
  --header 'Authorization: Bearer your_app_token'
```