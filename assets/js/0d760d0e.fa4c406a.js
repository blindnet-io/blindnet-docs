"use strict";(self.webpackChunkblindnet_dev=self.webpackChunkblindnet_dev||[]).push([[7186],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return g}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=a.createContext({}),u=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=u(e.components);return a.createElement(i.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,s=e.originalType,i=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=u(n),g=r,h=c["".concat(i,".").concat(g)]||c[g]||p[g]||s;return n?a.createElement(h,o(o({ref:t},d),{},{components:n})):a.createElement(h,o({ref:t},d))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=n.length,o=new Array(s);o[0]=c;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var u=2;u<s;u++)o[u]=n[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},5162:function(e,t,n){n.d(t,{Z:function(){return o}});var a=n(7294),r=n(6010),s="tabItem_Ymn6";function o(e){var t=e.children,n=e.hidden,o=e.className;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(s,o),hidden:n},t)}},5488:function(e,t,n){n.d(t,{Z:function(){return g}});var a=n(3117),r=n(7294),s=n(6010),o=n(2389),l=n(7392),i=n(7094),u=n(2466),d="tabList__CuJ",p="tabItem_LNqP";function c(e){var t,n,o=e.lazy,c=e.block,g=e.defaultValue,h=e.values,m=e.groupId,k=e.className,y=r.Children.map(e.children,(function(e){if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),b=null!=h?h:y.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),f=(0,l.l)(b,(function(e,t){return e.value===t.value}));if(f.length>0)throw new Error('Docusaurus error: Duplicate values "'+f.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var v=null===g?g:null!=(t=null!=g?g:null==(n=y.find((function(e){return e.props.default})))?void 0:n.props.value)?t:y[0].props.value;if(null!==v&&!b.some((function(e){return e.value===v})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+v+'" but none of its children has the corresponding value. Available values are: '+b.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var w=(0,i.U)(),N=w.tabGroupChoices,T=w.setTabGroupChoices,_=(0,r.useState)(v),I=_[0],x=_[1],S=[],D=(0,u.o5)().blockElementScrollPositionUntilNextRender;if(null!=m){var C=N[m];null!=C&&C!==I&&b.some((function(e){return e.value===C}))&&x(C)}var j=function(e){var t=e.currentTarget,n=S.indexOf(t),a=b[n].value;a!==I&&(D(t),x(a),null!=m&&T(m,String(a)))},Z=function(e){var t,n=null;switch(e.key){case"ArrowRight":var a,r=S.indexOf(e.currentTarget)+1;n=null!=(a=S[r])?a:S[0];break;case"ArrowLeft":var s,o=S.indexOf(e.currentTarget)-1;n=null!=(s=S[o])?s:S[S.length-1]}null==(t=n)||t.focus()};return r.createElement("div",{className:(0,s.Z)("tabs-container",d)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":c},k)},b.map((function(e){var t=e.value,n=e.label,o=e.attributes;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:I===t?0:-1,"aria-selected":I===t,key:t,ref:function(e){return S.push(e)},onKeyDown:Z,onFocus:j,onClick:j},o,{className:(0,s.Z)("tabs__item",p,null==o?void 0:o.className,{"tabs__item--active":I===t})}),null!=n?n:t)}))),o?(0,r.cloneElement)(y.filter((function(e){return e.props.value===I}))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},y.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==I})}))))}function g(e){var t=(0,o.Z)();return r.createElement(c,(0,a.Z)({key:String(t)},e))}},3843:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return d},default:function(){return m},frontMatter:function(){return u},metadata:function(){return p},toc:function(){return g}});var a=n(3117),r=n(102),s=(n(7294),n(3905)),o=n(5488),l=n(5162),i=["components"],u={title:"Managing users and access",sidebar_position:5},d=void 0,p={unversionedId:"encryption/guides/managing_users_access",id:"encryption/guides/managing_users_access",title:"Managing users and access",description:"You can manage your users' interaction with blindnet and their access to data through blindnet devkit methods that you invoke in your application. These methods allow you to",source:"@site/docs/07-encryption/03-guides/05-managing_users_access.mdx",sourceDirName:"07-encryption/03-guides",slug:"/encryption/guides/managing_users_access",permalink:"/docs/encryption/guides/managing_users_access",draft:!1,editUrl:"https://github.com/blindnet-io/blindnet.dev/edit/main/docs/07-encryption/03-guides/05-managing_users_access.mdx",tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"Managing users and access",sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Decrypting data",permalink:"/docs/encryption/guides/decrypt"},next:{title:"Troubleshooting",permalink:"/docs/encryption/guides/troubleshooting"}},c={},g=[{value:"Creating user tokens",id:"creating-user-tokens",level:2},{value:"Creating temporary tokens",id:"creating-temporary-tokens",level:3},{value:"Assigning a user to a group",id:"assigning-a-user-to-a-group",level:2},{value:"Connecting users with blindnet",id:"connecting-users-with-blindnet",level:2},{value:"Splitting secrets",id:"splitting-secrets",level:3},{value:"Registering and logging users in blindnet",id:"registering-and-logging-users-in-blindnet",level:3},{value:"Logging out users",id:"logging-out-users",level:3},{value:"Changing secrets",id:"changing-secrets",level:2},{value:"Giving access to other users",id:"giving-access-to-other-users",level:2},{value:"Lost secret",id:"lost-secret",level:2},{value:"Revoking user access",id:"revoking-user-access",level:2},{value:"Deleting encrypted data keys",id:"deleting-encrypted-data-keys",level:2},{value:"Deleting users",id:"deleting-users",level:2},{value:"Deleting user groups",id:"deleting-user-groups",level:2}],h={toc:g};function m(e){var t=e.components,n=(0,r.Z)(e,i);return(0,s.kt)("wrapper",(0,a.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"You can manage your users' interaction with blindnet and their access to data through blindnet devkit methods that you invoke in your application. These methods allow you to"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"connect your users to blindnet"),(0,s.kt)("li",{parentName:"ul"},"cluster users in groups"),(0,s.kt)("li",{parentName:"ul"},"give/revoke access to data"),(0,s.kt)("li",{parentName:"ul"},"update user passwords"),(0,s.kt)("li",{parentName:"ul"},"etc.")),(0,s.kt)("h2",{id:"creating-user-tokens"},"Creating user tokens"),(0,s.kt)("p",null,"Each request to blindnet needs to be authenticated, which is done through user tokens. You ",(0,s.kt)("inlineCode",{parentName:"p"},"generate")," user tokens on your server by using ",(0,s.kt)("strong",{parentName:"p"},"blindnet Server SDK"),", and then ",(0,s.kt)("inlineCode",{parentName:"p"},"pass")," the generated token in the ",(0,s.kt)("a",{parentName:"p",href:"./installation#client-sdk-2"},"initialization of ",(0,s.kt)("strong",{parentName:"a"},"blindnet Client SDK")),". "),(0,s.kt)("p",null,"To generate a user token, after ",(0,s.kt)("a",{parentName:"p",href:"./installation#server-sdk-2"},"initializing blindnet Server SDK")," call the following blindnet ",(0,s.kt)("strong",{parentName:"p"},"Server SDK")," method:"),(0,s.kt)(o.Z,{groupId:"lang-server",mdxType:"Tabs"},(0,s.kt)(l.Z,{value:"php",label:"PHP",default:!0,mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$userId = 'your_user_id';\n$groupId = 'your_user_group_id';\n$userToken = $blindnet->createUserToken($userId, $groupId);\n"))),(0,s.kt)(l.Z,{value:"node",label:"Node.js",default:!0,mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},"userId = 'your_user_id';\ngroupId = 'your_user_group_id';\nconst userToken = await blindnet.createUserToken(userId, groupId)\n")))),(0,s.kt)("p",null,"User tokens expire 12 hours after they have been created."),(0,s.kt)("h3",{id:"creating-temporary-tokens"},"Creating temporary tokens"),(0,s.kt)("p",null,"Temporary tokens are used to authenticate when ",(0,s.kt)("a",{parentName:"p",href:"./encrypt"},"encrypting")," the data. They contain the information to whom the data is being encrypted."),(0,s.kt)(o.Z,{groupId:"lang-server",mdxType:"Tabs"},(0,s.kt)(l.Z,{value:"php",label:"PHP",default:!0,mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$groupId = 'your_user_group_id';\n$userToken = $blindnet->createTempUserToken($groupId);\n"))),(0,s.kt)(l.Z,{value:"node",label:"Node.js",default:!0,mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},"groupId = 'your_user_group_id'\nconst userToken = await blindnet.createTempUserToken(groupId)\n// or\nuserIds = ['user_0', 'user_1']\nconst userToken = await blindnet.createTempUserToken(userIds)\n")))),(0,s.kt)("p",null,"Temporary tokens expire 30 minutes after they have been created."),(0,s.kt)("h2",{id:"assigning-a-user-to-a-group"},"Assigning a user to a group"),(0,s.kt)("p",null,"Each of your users can belong to one user group or no group at all.",(0,s.kt)("br",{parentName:"p"}),"\n","For example, if your platform users are employees of a hotel or bank, you can group your users (employees) with respect to the hotel or bank they work with (group).",(0,s.kt)("br",{parentName:"p"}),"\n","You associate a user to a group by specifying the ",(0,s.kt)("inlineCode",{parentName:"p"},"group ID")," in a ",(0,s.kt)("inlineCode",{parentName:"p"},"user token")," when connecting a user to blindnet for the first time."),(0,s.kt)("p",null,"Currently, you can't assign already created user to a different group. ",(0,s.kt)("a",{parentName:"p",href:"#deleting-users"},"Delete")," the user and create it again with a different ",(0,s.kt)("inlineCode",{parentName:"p"},"group id"),"."),(0,s.kt)("h2",{id:"connecting-users-with-blindnet"},"Connecting users with blindnet"),(0,s.kt)("p",null,"The core of security of blindnet are user's ",(0,s.kt)("a",{parentName:"p",href:"../how_it_works/security#user-private-keys"},"private keys"),". They are randomly generated on the user's local device and encrypted using a secret code (e.g. user's password) and then securely stored in blindnet.",(0,s.kt)("br",{parentName:"p"}),"\n","Blindnet allows you to reuse existing user passwords so that your users still use ",(0,s.kt)("a",{parentName:"p",href:"../glossary#secret-value"},"one password")," in your application. To do so safely, you need to use blindnet Client SDK to split user passwords before you connect a user to blindnet (check our ",(0,s.kt)("a",{parentName:"p",href:"../how_it_works/security#user-passwords"},"Security page")," to see why this is inportant)."),(0,s.kt)("h3",{id:"splitting-secrets"},"Splitting secrets"),(0,s.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),'"Splitting user\'s password"')),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"In the case that you send plaintext passwords to your server for user authentication, we advise that you update the authentication workflow in the following way."),(0,s.kt)("p",{parentName:"div"},"When a user is logging into your application and enters a password, you should use blindnet Client SDK to split the password into two parts: you use the ",(0,s.kt)("inlineCode",{parentName:"p"},"second part")," (",(0,s.kt)("em",{parentName:"p"},"appSecret"),") to authenticate the user on your app, while you use the ",(0,s.kt)("inlineCode",{parentName:"p"},"first part")," (",(0,s.kt)("em",{parentName:"p"},"blindnetSecret"),") for registering and logging users to blindnet. It is advisable not to use the same password for both actions since a party that can read the user's password (i.e., you) would be able to decrypt the user's private keys."))),(0,s.kt)("p",null,"To split the password use the following ",(0,s.kt)("strong",{parentName:"p"},"Client SDK")," method:"),(0,s.kt)(o.Z,{groupId:"lang-client",mdxType:"Tabs"},(0,s.kt)(l.Z,{value:"js",label:"JavaScript",default:!0,mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},"const password = 'user_password' \nconst { blindnetSecret, appSecret } = await Blindnet.deriveSecrets(password)\n")))),(0,s.kt)("h3",{id:"registering-and-logging-users-in-blindnet"},"Registering and logging users in blindnet"),(0,s.kt)("p",null,"When a user logs into your system, you also need to login that user to blindnet. To do so, you first obtain blindnet secret by ",(0,s.kt)("a",{parentName:"p",href:"#splitting-secrets"},"splitting user password"),", and then use the following ",(0,s.kt)("strong",{parentName:"p"},"Client SDK")," method:"),(0,s.kt)(o.Z,{groupId:"lang-client",mdxType:"Tabs"},(0,s.kt)(l.Z,{value:"js",label:"JavaScript",default:!0,mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},"await blindnet.connect(blindnetSecret)\n")))),(0,s.kt)("p",null,"blindnet devkit does not expose separate methods for user registration and logging in. You always use the ",(0,s.kt)("inlineCode",{parentName:"p"},"connect")," method while its internals handle user registration and logging in. If it is the first time that a user is being connected to blindnet, the SDK will register that user by using the information you provide in a ",(0,s.kt)("a",{parentName:"p",href:"#creating-user-tokens"},"token"),"."),(0,s.kt)("p",null,"When you use the ",(0,s.kt)("inlineCode",{parentName:"p"},"connect")," method, it locally initiates user's ",(0,s.kt)("a",{parentName:"p",href:"../how_it_works/security#user-private-keys"},"private keys")," so that later users can decrypt their data."),(0,s.kt)("h3",{id:"logging-out-users"},"Logging out users"),(0,s.kt)("p",null,"When a user logs out of your application, you also need to log out that user from blindnet by using the following ",(0,s.kt)("strong",{parentName:"p"},"Client SDK")," method:"),(0,s.kt)(o.Z,{groupId:"lang-client",mdxType:"Tabs"},(0,s.kt)(l.Z,{value:"js",label:"JavaScript",default:!0,mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},"await blindnet.disconnect()\n")))),(0,s.kt)("p",null,"This will remove the user's private keys from the user's local device."),(0,s.kt)("h2",{id:"changing-secrets"},"Changing secrets"),(0,s.kt)("p",null,"Since user's keys are encrypted with the ",(0,s.kt)("a",{parentName:"p",href:"../glossary#secret-value"},"user's secret"),", changing the secret means the keys must be re-encrypted with the new secret value.  "),(0,s.kt)("p",null,"Your users can change their passwords in your applications at any time without losing access to previously encrypted data. To ensure that access is not lost, when your user changes password, ",(0,s.kt)("a",{parentName:"p",href:"#splitting-secrets"},"split")," the new password and use the corresponding ",(0,s.kt)("strong",{parentName:"p"},"Client SDK")," method:"),(0,s.kt)(o.Z,{groupId:"lang-client",mdxType:"Tabs"},(0,s.kt)(l.Z,{value:"js",label:"JavaScript",default:!0,mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},"const newPassword = 'user_new_password'\nconst { blindnetSecret, appSecret } = await Blindnet.deriveSecrets(newPassword)\nawait blindnet.changeSecret(blindnetSecret)\n")))),(0,s.kt)("p",null,"This will re-encrypt the user's private keys with the new secret and post them to blindnet."),(0,s.kt)("h2",{id:"giving-access-to-other-users"},"Giving access to other users"),(0,s.kt)("p",null,"A user (Alice) can give access to ",(0,s.kt)("a",{parentName:"p",href:"./encrypt"},"encrypted data")," to another user (Bob).",(0,s.kt)("br",{parentName:"p"}),"\n","It means Alice will download her ",(0,s.kt)("a",{parentName:"p",href:"../glossary#encrypted-data-key"},"encrypted data keys")," and re-encrypt them with Bob's ",(0,s.kt)("a",{parentName:"p",href:"../glossary#public-key"},"public key"),". This way Bob can download and decrypt the keys with his ",(0,s.kt)("a",{parentName:"p",href:"../glossary#private-key"},"private key"),"."),(0,s.kt)("p",null,"Possible use-case for this is when a new user registers to blindnet and needs an access to e.g. customers' data. Think of a new hotel employee accessing guest's encrypted passport during check-in."),(0,s.kt)("p",null,"Currently, Alice give access ",(0,s.kt)("strong",{parentName:"p"},"all the data")," for which she has the keys."),(0,s.kt)("p",null,"To give access to other user, use the following ",(0,s.kt)("strong",{parentName:"p"},"Client SDK")," method:"),(0,s.kt)(o.Z,{groupId:"lang-client",mdxType:"Tabs"},(0,s.kt)(l.Z,{value:"js",label:"JavaScript",default:!0,mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},"const userId = 'id_of_user_to_give_access_to'\nblindnet.giveAccess(userId)\n")))),(0,s.kt)("h2",{id:"lost-secret"},"Lost secret"),(0,s.kt)("p",null,"When a user loses the secret (forgets the login password), the user loses access to the encrypted data since they are unable to decrypt the keys used to encrypt the data.    "),(0,s.kt)("p",null,"You need to put in place the following workflow  "),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("a",{parentName:"li",href:"#deleting-users"},"Delete")," the user from blindnet."),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("a",{parentName:"li",href:"#registering-and-logging-users-in-blindnet"},"Log-in")," the user to blindnet with a new secret."),(0,s.kt)("li",{parentName:"ol"},"After the user has logged-in, another user must ",(0,s.kt)("a",{parentName:"li",href:"#giving-access-to-other-users"},"give them access")," to the encrypted data.")),(0,s.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"If no other user has an access to a particular data when the secret is lost, ",(0,s.kt)("strong",{parentName:"p"},"no one")," will be able to decrypt the data."))),(0,s.kt)("h2",{id:"revoking-user-access"},"Revoking user access"),(0,s.kt)("p",null,"Revoking an access to a user means the user will lose all the keys necessary to decrypt the data and consequently, lose access to data. Your server should inform blindnet about a user for which the access is being revoked, by using the following blindnet ",(0,s.kt)("strong",{parentName:"p"},"Server SDK")," method:"),(0,s.kt)(o.Z,{groupId:"lang-server",mdxType:"Tabs"},(0,s.kt)(l.Z,{value:"php",label:"PHP",default:!0,mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$userId = 'id_of_user_to_revoke_access';\n$blindnet->revokeAccess($userId);\n"))),(0,s.kt)(l.Z,{value:"node",label:"Node.js",default:!0,mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},"userId = 'id_of_user_to_revoke_access'\nawait blindnet.revokeAccess(userId)\n")))),(0,s.kt)("p",null,"In the situation where all users in a ",(0,s.kt)("a",{parentName:"p",href:"../glossary#user-groups"},"user group")," always have access to all the data, this action is not meaningful and ",(0,s.kt)("a",{parentName:"p",href:"#deleting-users"},"deletion")," of users should be performed instead."),(0,s.kt)("h2",{id:"deleting-encrypted-data-keys"},"Deleting encrypted data keys"),(0,s.kt)("p",null,"When data is deleted from your server, it's encrypted keys should be deleted from blindnet. User the following ",(0,s.kt)("strong",{parentName:"p"},"Server SDK")," method to delete the keys:"),(0,s.kt)(o.Z,{groupId:"lang-server",mdxType:"Tabs"},(0,s.kt)(l.Z,{value:"php",label:"PHP",default:!0,mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$dataId = 'id_of_deleted_data';\n$blindnet->forgetData($dataId);\n"))),(0,s.kt)(l.Z,{value:"node",label:"Node.js",default:!0,mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},"dataId = 'id_of_deleted_data'\nawait blindnet.forgetData(dataId)\n")))),(0,s.kt)("h2",{id:"deleting-users"},"Deleting users"),(0,s.kt)("p",null,"When a user is deleted from your application, you must inform blindnet about the event. This is done from your server by using the following blindnet ",(0,s.kt)("strong",{parentName:"p"},"Server SDK")," method:"),(0,s.kt)(o.Z,{groupId:"lang-server",mdxType:"Tabs"},(0,s.kt)(l.Z,{value:"php",label:"PHP",default:!0,mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$userId = 'id_of_user_to_delete';\n$blindnet->forgetUser($userId);\n"))),(0,s.kt)(l.Z,{value:"node",label:"Node.js",default:!0,mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},"userId = 'id_of_user_to_delete'\nawait blindnet.forgetUser(userId)\n")))),(0,s.kt)("p",null,"Deleting a user from blindnet implies that the deleted user will no longer be able to decrypt any data, and other users will no longer be able to ",(0,s.kt)("a",{parentName:"p",href:"./encrypt"},"encrypt data")," for that user."),(0,s.kt)("p",null,"When deleting users, you must be careful not to delete the last user of a ",(0,s.kt)("a",{parentName:"p",href:"../glossary#user-groups"},"group")," because in that case all existing data will become undecryptable. Deleting the last user has the same effect as ",(0,s.kt)("a",{parentName:"p",href:"#deleting-user-groups"},"deleting a user group"),"."),(0,s.kt)("h2",{id:"deleting-user-groups"},"Deleting user groups"),(0,s.kt)("p",null,"To delete a ",(0,s.kt)("a",{parentName:"p",href:"../glossary#user-groups"},"user group"),", use the following blindnet ",(0,s.kt)("strong",{parentName:"p"},"Server SDK")," method:"),(0,s.kt)(o.Z,{groupId:"lang-server",mdxType:"Tabs"},(0,s.kt)(l.Z,{value:"php",label:"PHP",default:!0,mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-php"},"$groupId = 'id_of_group_to_delete';\n$blindnet->forgetGroup($groupId);\n"))),(0,s.kt)(l.Z,{value:"node",label:"Node.js",default:!0,mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},"groupId = 'id_of_group_to_delete'\nawait blindnet.forgetGroup(groupId)\n")))),(0,s.kt)("p",null,"Deleting a user group in blindnet system implies deleting all its users and encrypted keys from blindnet. This means that encrypted data of this group stored on your servers will not be decryptable anymore."))}m.isMDXComponent=!0}}]);